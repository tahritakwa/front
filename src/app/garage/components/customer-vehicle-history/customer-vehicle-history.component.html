<div class="col-lg-12 col-sm-12 col-md-12">
  <app-advanced-search [filtreFieldsColumns]="filterFieldsColumns" [filtreFieldsInputs]="filterFieldsInputs"
  (filtrePredicateToSend)="advancedFilterPredicateChange($event)"
  (filterFieldsInputsChange)="filterFieldsInputsChange($event)" (searchClickEvent)="searchClick()"
  (resetClickEvent)="resetClickEvent()">
</app-advanced-search>
  <kendo-grid [data]="gridSettings.gridData" [pageable]="pagerSettings" [pageSize]="gridSettings.state.take"
    [skip]="gridSettings.state.skip" [sort]="gridSettings.state.sort" [reorderable]="true" [sortable]="true"
    (dataStateChange)="dataStateChange($event)">
    <!-- Code -->
    <kendo-grid-column [field]="columnsConfig[0].field" [filter]="columnsConfig[0].filter" [filterable]="true"
      [width]="150">
      <ng-template kendoGridHeaderTemplate>
        <span tooltip="{{gridSettings.columnsConfig[0].tooltip|translate}}"
          theme="light">{{gridSettings.columnsConfig[0].title|translate}}</span>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem="dataItem">
        <span class="pointer intervention-code" (click)="goToAdvancedEdit(dataItem.Id)" theme="light">
          {{dataItem.Code}}
        </span>
      </ng-template>
    </kendo-grid-column>
       <!-- Code Delivery -->
       <kendo-grid-column [field]="columnsConfig[1].field" [filter]="columnsConfig[1].filter" [filterable]="true"
       [width]="160">
       <ng-template kendoGridHeaderTemplate>
         <span tooltip="{{gridSettings.columnsConfig[1].tooltip|translate}}"
           theme="light">{{gridSettings.columnsConfig[1].title|translate}}</span>
       </ng-template>
       <ng-template kendoGridCellTemplate let-dataItem="dataItem">
         <span *ngIf="dataItem.IdDeliveryDocumentNavigation && dataItem.IdDeliveryDocumentNavigation.Code"
           class="pointer intervention-code" (click)="goToEditDelivery(dataItem.IdDeliveryDocumentNavigation)" theme="light">
           {{dataItem.IdDeliveryDocumentNavigation ? dataItem.IdDeliveryDocumentNavigation.Code : '' }}
         </span>
         <span *ngIf="!(dataItem.IdDeliveryDocumentNavigation && dataItem.IdDeliveryDocumentNavigation.Code)" theme="light">
           ---
         </span>
       </ng-template>
     </kendo-grid-column>
     <!-- Code Invoice -->
     <kendo-grid-column [field]="columnsConfig[2].field" [filter]="columnsConfig[2].filter" [filterable]="true"
       [width]="160">
       <ng-template kendoGridHeaderTemplate>
         <span tooltip="{{gridSettings.columnsConfig[2].tooltip|translate}}"
           theme="light">{{gridSettings.columnsConfig[2].title|translate}}</span>
       </ng-template>
       <ng-template kendoGridCellTemplate let-dataItem="dataItem">
         <span *ngIf="dataItem.IdInvoiceDocumentNavigation && dataItem.IdInvoiceDocumentNavigation.Code"
           class="pointer intervention-code" (click)="goToEditInvoice(dataItem.IdInvoiceDocumentNavigation)" theme="light">
           {{dataItem.IdInvoiceDocumentNavigation ? dataItem.IdInvoiceDocumentNavigation.Code : '' }}
         </span>
         <span *ngIf="!(dataItem.IdInvoiceDocumentNavigation && dataItem.IdInvoiceDocumentNavigation.Code)" theme="light">
           ---
         </span>
       </ng-template>
     </kendo-grid-column>
    <!-- InterventionDate -->
    <kendo-grid-column [field]="columnsConfig[3].field" [filter]="columnsConfig[3].filter" [filterable]="true"
      [width]="150">
      <ng-template kendoGridHeaderTemplate>
        <span tooltip="{{gridSettings.columnsConfig[3].tooltip|translate}}"
          theme="light">{{gridSettings.columnsConfig[3].title|translate}}</span>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        <span *ngIf="dataItem.InterventionDate">
          {{dataItem.InterventionDate | date : dateFormat}}
        </span>
        <span *ngIf="!dataItem.InterventionDate">
          ---
        </span>
      </ng-template>
    </kendo-grid-column>
    <!-- Status -->
    <kendo-grid-column [field]="columnsConfig[4].field" [filter]="columnsConfig[4].filter" [filterable]="true"
      [width]="140">
      <ng-template kendoGridHeaderTemplate>
        <span tooltip="{{gridSettings.columnsConfig[4].tooltip|translate}}"
          theme="light">{{gridSettings.columnsConfig[4].title|translate}}</span>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem='dataItem'>
        <span *ngIf="dataItem.Status === interventionState.Open" class="badge badge-primary">
          {{'OPEN'|translate}} </span>
        <span *ngIf="dataItem.Status === interventionState.InProgress" class="badge badge-success">
          {{'INPROGRESS'|translate}}
        </span>
        <span *ngIf="dataItem.Status === interventionState.Completed" class="badge badge-completed">
          {{'COMPLETED'|translate}}
        </span>
      </ng-template>
    </kendo-grid-column>
  </kendo-grid>
</div>