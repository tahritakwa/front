<div class="card full-screen-card" [ngClass]="{'border-0 mb-0':isModalHtml}">
    <div class="card-content">
        <div class="card-header" *ngIf="!isModalHtml">
            <div class="col-sm-5 mt-1">
                <h3 class="card-title mb-0">{{'LIST_MOVEMENT_HISTORY'|translate}}</h3>
            </div>
        </div>
        <div class="card-body" [ngClass]="{'pb-0':isModalHtml}">
            <kendo-grid [data]="gridSettings.gridData" [pageSize]="gridSettings.state.take"
                [skip]="gridSettings.state.skip" [pageable]="pagerSettings" [filterable]="true"
                (dataStateChange)="dataStateChange($event)" [style.maxHeight.px]="500"
                [filter]="gridSettings.state.filter">

                <!-- FRS -->
                <kendo-grid-column [field]="gridSettings.columnsConfig[0].field"
                    [title]="gridSettings.columnsConfig[0].title | translate"
                    [width]="gridSettings.columnsConfig[0]._width" [filter]="gridSettings.columnsConfig[0].filter"
                    [filterable]="gridSettings.columnsConfig[0].filterable"
                    [format]="gridSettings.columnsConfig[0].format">
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[0].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[0].title | translate}}</span>
                    </ng-template>
                </kendo-grid-column>

                <!-- article -->
                <kendo-grid-column *ngIf="!isModalHtml" [field]="gridSettings.columnsConfig[1].field"
                    [title]="gridSettings.columnsConfig[1].title | translate"
                    [width]="gridSettings.columnsConfig[1]._width" [filter]="gridSettings.columnsConfig[1].filter"
                    [filterable]="!isModalHtml" [format]="gridSettings.columnsConfig[1].format">
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[1].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[1].title | translate}}</span>
                    </ng-template>
                </kendo-grid-column>

                <!-- designation-->
                <kendo-grid-column *ngIf="!isModalHtml" [field]="gridSettings.columnsConfig[2].field"
                    [title]="gridSettings.columnsConfig[2].title | translate"
                    [width]="gridSettings.columnsConfig[2]._width" [filter]="gridSettings.columnsConfig[2].filter"
                    [filterable]="!isModalHtml" [format]="gridSettings.columnsConfig[2].format">
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[2].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[2].title | translate}}</span>
                    </ng-template>
                </kendo-grid-column>

                <!-- type doc -->
                <kendo-grid-column [field]="gridSettings.columnsConfig[3].field"
                    [title]="gridSettings.columnsConfig[3].title | translate"
                    [width]="gridSettings.columnsConfig[3]._width" [filter]="gridSettings.columnsConfig[3].filter"
                    [filterable]="gridSettings.columnsConfig[3].filterable"
                    [format]="gridSettings.columnsConfig[3].format">
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[3].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[3].title | translate}}</span>
                    </ng-template>
                </kendo-grid-column>

                <!-- code client -->
                <kendo-grid-column [field]="gridSettings.columnsConfig[4].field"
                    [title]="gridSettings.columnsConfig[4].title | translate"
                    [width]="gridSettings.columnsConfig[4]._width" [filter]="gridSettings.columnsConfig[4].filter"
                    [filterable]="gridSettings.columnsConfig[4].filterable"
                    [format]="gridSettings.columnsConfig[4].format"
                    [style]='{"text-align": "right", "padding-right": "2%"}'>
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[4].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[4].title | translate}}</span>
                    </ng-template>
                </kendo-grid-column>

                <!-- nom client -->
                <kendo-grid-column [field]="gridSettings.columnsConfig[5].field"
                    [title]="gridSettings.columnsConfig[5].title | translate"
                    [width]="gridSettings.columnsConfig[5]._width" [filter]="gridSettings.columnsConfig[5].filter"
                    [filterable]="gridSettings.columnsConfig[5].filterable"
                    [format]="gridSettings.columnsConfig[5].format">
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[5].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[5].title | translate}}</span>
                    </ng-template>
                </kendo-grid-column>

                <!-- date -->
                <kendo-grid-column [field]="gridSettings.columnsConfig[6].field"
                    [title]="gridSettings.columnsConfig[6].title | translate"
                    [width]="gridSettings.columnsConfig[6]._width"
                    [filterable]="gridSettings.columnsConfig[6].filterable"
                    [format]="gridSettings.columnsConfig[6].format" [style]='{"text-align": "right"}'>
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[6].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[6].title | translate}}</span>
                    </ng-template>
                    <ng-template kendoGridFilterCellTemplate>
                        <kendo-datepicker
                            formatPlaceholder="{
                                    year: '{{'YEAR' | translate}}', month: '{{'month' | translate}}', day: '{{'DAY' | translate}}'}"
                            (valueChange)="changeDate($event)">
                            <kendo-datepicker-messages today="{{ 'TODAY' | translate}}"
                                toggle="{{ 'CALENDAR.MENU_TITLE' | translate}}">
                            </kendo-datepicker-messages>
                        </kendo-datepicker>
                    </ng-template>
                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                        {{dataItem.Date|date: gridSettings.columnsConfig[6].format}}
                    </ng-template>
                </kendo-grid-column>

                <!-- order -->
                <kendo-grid-column [field]="gridSettings.columnsConfig[7].field"
                    [title]="gridSettings.columnsConfig[7].title | translate"
                    [width]="gridSettings.columnsConfig[7]._width" [filter]="gridSettings.columnsConfig[7].filter"
                    [filterable]="gridSettings.columnsConfig[7].filterable"
                    [format]="gridSettings.columnsConfig[7].format" [style]='{"text-align": "right"}'>
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[7].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[7].title | translate}}</span>
                    </ng-template>
                </kendo-grid-column>

                <!-- quantity -->
                <kendo-grid-column [field]="gridSettings.columnsConfig[8].field"
                    [title]="gridSettings.columnsConfig[8].title | translate"
                    [width]="gridSettings.columnsConfig[8]._width"
                    [filterable]="gridSettings.columnsConfig[8].filterable"
                    [format]="gridSettings.columnsConfig[8].format" filter="numeric"
                    [style]='{"text-align": "right", "padding-right": "2%"}'>
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[8].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[8].title | translate}}</span>
                    </ng-template>
                    <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                        <kendo-numerictextbox [spinners]="false" [format]="FormatNumber" [step]="1"
                            style="border: none !important;" class="form-control inputEnabled as-label"
                            [value]="dataItem.Quantity" [disabled]="true">
                        </kendo-numerictextbox>
                    </ng-template>
                </kendo-grid-column>

                <!--phut-->
                <kendo-grid-column [field]="gridSettings.columnsConfig[9].field"
                    [title]="gridSettings.columnsConfig[9].title | translate"
                    [width]="gridSettings.columnsConfig[9]._width"
                    [filterable]="gridSettings.columnsConfig[9].filterable"
                    [format]="gridSettings.columnsConfig[9].format" filter="numeric"
                    [style]='{"text-align": "right", "padding-right": "2%"}'>
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[9].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[9].title | translate}}</span>
                    </ng-template>

                    <ng-template kendoGridCellTemplate let-dataItem>


                        {{dataItem.Puht.toLocaleString(language,{minimumFractionDigits:
                        dataItem.FormatOption.minimumFractionDigits})}} {{dataItem.CurrencyCode}}

                    </ng-template>

                </kendo-grid-column>
                <!-- phut1 -->

                <kendo-grid-column [field]="gridSettings.columnsConfig[10].field"
                    [title]="gridSettings.columnsConfig[10].title | translate"
                    [width]="gridSettings.columnsConfig[10]._width"
                    [filterable]="gridSettings.columnsConfig[10].filterable"
                    [format]="gridSettings.columnsConfig[10].format" filter="numeric"
                    [style]='{"text-align": "right", "padding-right": "2%"}'>
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[10].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[10].title | translate}}</span>
                    </ng-template>
                    <ng-template kendoGridCellTemplate let-dataItem>


                        {{dataItem.Puht1.toLocaleString(language,{minimumFractionDigits:
                        dataItem.FormatOption.minimumFractionDigits})}} {{dataItem.CurrencyCode}}

                    </ng-template>
                </kendo-grid-column>

                <!-- prix-->
                <kendo-grid-column [field]="gridSettings.columnsConfig[11].field"
                    [title]="gridSettings.columnsConfig[11].title | translate"
                    [width]="gridSettings.columnsConfig[11]._width"
                    [filterable]="gridSettings.columnsConfig[11].filterable"
                    [format]="gridSettings.columnsConfig[11].format" filter="numeric"
                    [style]='{"text-align": "right", "padding-right": "2%"}'>
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[11].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[11].title | translate}}</span>
                    </ng-template>
                    <ng-template kendoGridCellTemplate let-dataItem>


                        {{dataItem.Price.toLocaleString(language,{minimumFractionDigits:
                        dataItem.FormatOption.minimumFractionDigits})}} {{dataItem.CurrencyCode}}

                    </ng-template>
                </kendo-grid-column>

                <!-- remise-->
                <kendo-grid-column [field]="gridSettings.columnsConfig[12].field"
                    [title]="gridSettings.columnsConfig[12].title | translate"
                    [width]="gridSettings.columnsConfig[12]._width"
                    [filterable]="gridSettings.columnsConfig[12].filterable"
                    [format]="gridSettings.columnsConfig[12].format" filter="numeric"
                    [style]='{"text-align": "right", "padding-right": "2%"}'>
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[12].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[12].title | translate}}</span>
                    </ng-template>
                </kendo-grid-column>

                <!-- achat / vente-->
                <kendo-grid-column [field]="gridSettings.columnsConfig[13].field" [width]="150" [filterable]="true">
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{'SALE' | translate}}
                                / {{'PURCHASE' | translate}}" theme="light">{{'SALE' | translate}}
                            / {{'PURCHASE' | translate}} </span>
                    </ng-template>
                    <ng-template kendoGridFilterCellTemplate let-filter>
                        <kendo-combobox style="width: 150px" [data]="data" [(ngModel)]="selectedTypeValue"
                            [textField]="'label'" [valueField]="'value'" (valueChange)="ValueChange()">
                        </kendo-combobox>
                    </ng-template>

                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div *ngIf="dataItem.IsPurchase">
                            {{'PURCHASE' | translate}}

                        </div>
                        <div *ngIf="dataItem.IsSale">
                            {{'SALE' | translate}}

                        </div>
                    </ng-template>
                </kendo-grid-column>


                <!-- exrc -->
                <kendo-grid-column [field]="gridSettings.columnsConfig[14].field"
                    [title]="gridSettings.columnsConfig[14].title | translate"
                    [width]="gridSettings.columnsConfig[14]._width" [filter]="gridSettings.columnsConfig[14].filter"
                    [filterable]="gridSettings.columnsConfig[14].filterable"
                    [format]="gridSettings.columnsConfig[14].format"
                    [style]='{"text-align": "right", "padding-right": "2%"}'>
                    <ng-template kendoGridHeaderTemplate>
                        <span tooltip="{{gridSettings.columnsConfig[14].title | translate}}"
                            theme="light">{{gridSettings.columnsConfig[14].title | translate}}</span>
                    </ng-template>
                </kendo-grid-column>
            </kendo-grid>
        </div>
    </div>
</div>
