<div class="row" [formGroup]="formGroup">

  <div style="margin-top: 10px;" class="col-lg-4 col-sm-6 col-md-6">
    <app-item-dropdown #ListProduct (Selected)="itemSelected($event)" [itemForm]="formGroup"
      [parentViewContainerRef]="viewRef" [idItemToIgnore]='item.Id' [ignoreCharges]='true' [activeKeyPress]='true'
      [showFilter]='true' [isFroSerach]='true' [isOnlyStockManaged]="true"></app-item-dropdown>
    <br />
    <app-control-messages [control]="formGroup.controls.IdItem" class="error-msg messages text-left text-danger">
    </app-control-messages>
  </div>
  <div style="margin-top: 10px;" class="col-lg-4 col-sm-6 col-md-6">
    <button class="btn btn-sm btn-primary" (click)="onAffectItem()" type="button">
      {{'AFFECT'|translate}}
    </button>
  </div>
</div>
<br />
<div class="col-lg-12 col-md-12 col-sm-12">
  <div class="row">
    <div class="card mb-1">
      <div class="card-content">
        <div class="card-header py-2">
          <div class="col-sm-5 mt-1">
            <h4 class="card-title mb-0">{{'COMPONENT_ITEMS'|translate}}</h4>
          </div>
        </div>
        <div class="card-body">
          <kendo-grid [data]="gridKitItemSettings.gridData" [pageSize]="gridKitItemSettings.state.take"
            [skip]="gridKitItemSettings.state.skip" [sort]="gridKitItemSettings.state.sort"
            [filter]="gridKitItemSettings.state.filter" [sortable]="true" [pageable]="true"
            (remove)="removeHandler($event)" filterable="menu" [reorderable]="true"
            (dataStateChange)="dataStateChange($event)" [columnMenu]="true" (cellClick)="cellClickHandler($event)"
            (cellClose)="cellCloseHandler($event)">

            <!--Code-->
            <kendo-grid-column [field]="gridKitItemSettings.columnsConfig[0].field"
              [title]="gridKitItemSettings.columnsConfig[0].title | translate"
              [width]="gridKitItemSettings.columnsConfig[0]._width"
              [filter]="gridKitItemSettings.columnsConfig[0].filter"
              [filterable]="gridKitItemSettings.columnsConfig[0].filterable"
              [format]="gridKitItemSettings.columnsConfig[0].format">
              <ng-template kendoGridEditTemplate let-dataItem='dataItem'>
                <div class="grid-cell">{{dataItem.Code}}</div>
              </ng-template>
              <ng-template kendoGridCellTemplate let-dataItem='dataItem'>
                <div class="grid-cell">{{dataItem.Code}}</div>
              </ng-template>
            </kendo-grid-column>

            <!--Description-->
            <kendo-grid-column [field]="gridKitItemSettings.columnsConfig[1].field"
              [title]="gridKitItemSettings.columnsConfig[1].title | translate"
              [width]="gridKitItemSettings.columnsConfig[1]._width"
              [filter]="gridKitItemSettings.columnsConfig[1].filter"
              [filterable]="gridKitItemSettings.columnsConfig[1].filterable"
              [format]="gridKitItemSettings.columnsConfig[1].format">
              <ng-template kendoGridCellTemplate let-dataItem='dataItem'>
                <div class="grid-cell">{{dataItem.Description}}</div>
              </ng-template>
              <ng-template kendoGridEditTemplate let-dataItem='dataItem'>
                <div class="grid-cell">{{dataItem.Description}}</div>
              </ng-template>
            </kendo-grid-column>
            <!--Quantity-->
            <kendo-grid-column [field]="gridKitItemSettings.columnsConfig[2].field"
              [title]="gridKitItemSettings.columnsConfig[2].title | translate"
              [width]="gridKitItemSettings.columnsConfig[2]._width"
              [filter]="gridKitItemSettings.columnsConfig[2].filter"
              [filterable]="gridKitItemSettings.columnsConfig[2].filterable"
              [format]="gridKitItemSettings.columnsConfig[2].format" editor="numeric">
            </kendo-grid-column>
            <kendo-grid-command-column [width]="130">
              <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                <button kendoGridRemoveCommand class="noPadding btn-Add k-button" dir="ltr" style="border: none;"
                  type="button">
                  <i class="fa fa-close fa-lg AddIcon text-danger"></i>
                </button>
              </ng-template>
            </kendo-grid-command-column>

          </kendo-grid>
        </div>
      </div>
    </div>
  </div>
</div>
