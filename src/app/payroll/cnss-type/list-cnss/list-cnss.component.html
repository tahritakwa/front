<div class="card">
  <div class="card-content">
    <div class="card-header">
      <div class="col-sm-5 mt-1">
        <h3 class="card-title mb-0">{{'LIST_CNSS_TYPE'|translate}}</h3>
      </div>
    </div>
    <div class="card-body">
      <kendo-grid (add)="addHandler($event)" (cancel)="cancelHandler($event)" (dataStateChange)="dataStateChange($event)"
        (edit)="editHandler($event)" (remove)="removeHandler($event)" (save)="saveHandler($event)"
        [data]="gridSettings.gridData" [filter]="gridSettings.state.filter" [navigable]="true" [pageSize]="gridSettings.state.take"
        [pageable]="pagerSettings" [reorderable]="true" [selectable]="true" [skip]="gridSettings.state.skip"
        [sort]="gridSettings.state.sort" [sortable]="true">
        <!-- Head Start-->
        <ng-template kendoGridToolbarTemplate>
          <app-btn-grid [add]="hasAddPermission">
          </app-btn-grid>
        </ng-template>
        <!-- Head end-->
        <!-- Label -->
        <kendo-grid-column [field]="gridSettings.columnsConfig[0].field"
                           [filter]="gridSettings.columnsConfig[0].filter"
                           [filterable]="gridSettings.columnsConfig[0].filterable"
                           [format]="gridSettings.columnsConfig[0].format"
                           [title]="gridSettings.columnsConfig[0].title | translate"
                           [width]="gridSettings.columnsConfig[0]._width">
          <ng-template kendoGridHeaderTemplate>
            <span theme="light"
                  tooltip="{{gridSettings.columnsConfig[0].title|translate}}">{{gridSettings.columnsConfig[0].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridEditTemplate>
            <app-grid-cell-input-template [group]="formGroup" controlName="Label" inputType="text">
            </app-grid-cell-input-template>
          </ng-template>
        </kendo-grid-column>
        <!-- Employer rate -->
        <kendo-grid-column [field]="gridSettings.columnsConfig[1].field"
                           [filter]="gridSettings.columnsConfig[1].filter"
                           [filterable]="gridSettings.columnsConfig[1].filterable"
                           [format]="gridSettings.columnsConfig[1].format"
                           [title]="gridSettings.columnsConfig[1].title | translate"
                           [width]="gridSettings.columnsConfig[1]._width">
          <ng-template kendoGridHeaderTemplate>
            <span theme="light"
                  tooltip="{{gridSettings.columnsConfig[1].title|translate}}">{{gridSettings.columnsConfig[1].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridEditTemplate>
            <div class="row" style="margin-left: 5px;">
              <app-grid-cell-input-template [group]="formGroup" [max]="100" [min]="0"
                                            controlName="EmployerRate" inputType="number">
              </app-grid-cell-input-template>
              <span class="input-group-append input-group-text"
                    style="background-color: transparent;width:40px;">%</span>
            </div>
          </ng-template>
        </kendo-grid-column>
        <!-- Salary rate -->
        <kendo-grid-column [field]="gridSettings.columnsConfig[2].field"
                           [filter]="gridSettings.columnsConfig[2].filter"
                           [filterable]="gridSettings.columnsConfig[2].filterable"
                           [format]="gridSettings.columnsConfig[2].format"
                           [title]="gridSettings.columnsConfig[2].title | translate"
                           [width]="gridSettings.columnsConfig[2]._width">
          <ng-template kendoGridHeaderTemplate>
            <span theme="light"
                  tooltip="{{gridSettings.columnsConfig[2].title|translate}}">{{gridSettings.columnsConfig[2].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridEditTemplate>
            <div class="row" style="margin-left: 5px;">
              <app-grid-cell-input-template [group]="formGroup" [max]="100" [min]="0"
                                            controlName="SalaryRate" inputType="number">
              </app-grid-cell-input-template>
              <span class="input-group-append input-group-text"
                    style="background-color: transparent;width:40px;">%</span>
            </div>
          </ng-template>
        </kendo-grid-column>
        <!-- Work accident quota -->
        <kendo-grid-column [field]="gridSettings.columnsConfig[3].field"
                           [filter]="gridSettings.columnsConfig[3].filter"
                           [filterable]="gridSettings.columnsConfig[3].filterable"
                           [format]="gridSettings.columnsConfig[3].format"
                           [title]="gridSettings.columnsConfig[3].title | translate"
                           [width]="gridSettings.columnsConfig[3]._width">
          <ng-template kendoGridHeaderTemplate>
            <span theme="light"
                  tooltip="{{gridSettings.columnsConfig[3].title|translate}}">{{gridSettings.columnsConfig[3].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridEditTemplate>
            <div class="row" style="margin-left: 5px;">
              <app-grid-cell-input-template [group]="formGroup" [max]="100" [min]="0"
                                            controlName="WorkAccidentQuota" inputType="number">
              </app-grid-cell-input-template>
              <span class="input-group-append input-group-text"
                    style="background-color: transparent;width:40px;">%</span>
            </div>
          </ng-template>
        </kendo-grid-column>
        <!-- Operating Code -->
        <kendo-grid-column [field]="gridSettings.columnsConfig[4].field"
                           [filter]="gridSettings.columnsConfig[4].filter"
                           [filterable]="gridSettings.columnsConfig[4].filterable"
                           [format]="gridSettings.columnsConfig[4].format"
                           [title]="gridSettings.columnsConfig[4].title | translate"
                           [width]="gridSettings.columnsConfig[4]._width">
          <ng-template kendoGridHeaderTemplate>
            <span theme="light"
                  tooltip="{{gridSettings.columnsConfig[4].title|translate}}">{{gridSettings.columnsConfig[4].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridEditTemplate>
            <app-grid-cell-input-template [group]="formGroup" controlName="OperatingCode" inputType="text">
            </app-grid-cell-input-template>
          </ng-template>
        </kendo-grid-column>
        <!-- Command-->
        <kendo-grid-command-column [width]="130">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-isNew="isNew">
            <!-- edit command directive, will be visible when not in edit mode -->
            <button *ngIf="hasUpdatePermission" style="background-color: transparent;" kendoGridEditCommand>
              <i class="las la-pen edit-pencil cursor-pointer la-lg" tooltip="{{'UPDATE' | translate}}"></i>
            </button>
            <!-- save command directive, will be visible when in edit mode -->
            <button *ngIf="hasAddPermission || hasUpdatePermission" style="background-color: transparent;" kendoGridSaveCommand>
              <i class="fa fa-floppy-o" tooltip="{{'SAVE' | translate}}"></i>
            </button>
            <!-- cancel command directive, will be visible when in edit mode -->
            <button style="background-color: transparent;" kendoGridCancelCommand>
              <i class="fa fa-close" tooltip="{{'CANCEL' | translate}}"></i></button>
            <!-- remove command directive, will be visible when not in edit mode -->
            <button *ngIf="hasDeletePermission" style="background-color: transparent;" kendoGridRemoveCommand>
              <i class="las la-trash-alt text-danger cursor-pointer la-lg" tooltip="{{'DELETE' | translate}}"></i>
            </button>
          </ng-template>
        </kendo-grid-command-column>
        <!--grid pdf & excel-->
        <app-grid-export [gridSettings]="gridSettings" [predicate]="predicate" [service]="cnssTypeService" excel="true"
                         fileName="{{'LIST_CNSS_TYPE'|translate}}" pdf="true">
        </app-grid-export>
        <!--end grid pdf & excel-->
      </kendo-grid>
    </div>
  </div>
</div>
