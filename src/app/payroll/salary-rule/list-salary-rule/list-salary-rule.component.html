<div class="card">
  <div class="card-header">
    <div class="col-sm-5 mt-1">
      <h3 class="card-title mb-0">{{'LIST_SALARY_RULE'|translate}}</h3>
    </div>
  </div>
  <div class="card-body">
    <form class="form-horizontal">
      <div class="row d-flex justify-content-between mt-3">
        <app-btn-grid class="col" [advencedAdd]='hasAddPermission' [addLink]='"add"'
          [relativeStyle]='true'>
        </app-btn-grid>
      </div>
      <kendo-grid [data]="gridSettings.gridData" [pageSize]="gridSettings.state.take" [skip]="gridSettings.state.skip"
                  [sortable]="true" [reorderable]="true"
                  [sort]="gridSettings.state.sort" [filter]="gridSettings.state.filter" [selectable]="true"
                  (dataStateChange)="dataStateChange($event)" [pageable]="pagerSettings">
        <!--Reference-->
        <kendo-grid-column [field]="gridSettings.columnsConfig[0].field" [width]="gridSettings.columnsConfig[0]._width"
                           [filter]="gridSettings.columnsConfig[0].filter" [filterable]="gridSettings.columnsConfig[0].filterable"
                           [format]="gridSettings.columnsConfig[0].format">
          <ng-template kendoGridHeaderTemplate>
            <span tooltip="{{gridSettings.columnsConfig[0].title|translate}}"
                  theme="light">{{gridSettings.columnsConfig[0].title|translate}}</span>
          </ng-template>
        </kendo-grid-column>
        <!--Name-->
        <kendo-grid-column [field]="gridSettings.columnsConfig[1].field" [width]="gridSettings.columnsConfig[1]._width"
                           [filter]="gridSettings.columnsConfig[1].filter" [filterable]="gridSettings.columnsConfig[1].filterable"
                           [format]="gridSettings.columnsConfig[1].format">
          <ng-template kendoGridHeaderTemplate>
            <span tooltip="{{gridSettings.columnsConfig[1].title|translate}}"
                  theme="light">{{gridSettings.columnsConfig[1].title|translate}}</span>
          </ng-template>
        </kendo-grid-column>
        <!--Order-->
        <kendo-grid-column [field]="gridSettings.columnsConfig[2].field" [width]="gridSettings.columnsConfig[2]._width"
                           [filter]="gridSettings.columnsConfig[2].filter" [filterable]="gridSettings.columnsConfig[2].filterable"
                           [format]="gridSettings.columnsConfig[2].format">
          <ng-template kendoGridHeaderTemplate>
            <span tooltip="{{gridSettings.columnsConfig[2].title|translate}}"
                  theme="light">{{gridSettings.columnsConfig[2].title|translate}}</span>
          </ng-template>
        </kendo-grid-column>
        <!-- Ruletype -->
        <kendo-grid-column [field]="gridSettings.columnsConfig[3].field" [width]="gridSettings.columnsConfig[3]._width"
                           [filter]="gridSettings.columnsConfig[3].filter" [filterable]="gridSettings.columnsConfig[3].filterable"
                           [format]="gridSettings.columnsConfig[3].format">
          <ng-template kendoGridHeaderTemplate>
            <span tooltip="{{gridSettings.columnsConfig[3].title|translate}}"
                  theme="light">{{gridSettings.columnsConfig[3].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridCellTemplate let-dataItem>
            <span>{{getRuleTypeName(dataItem.RuleType) | translate}}</span>
          </ng-template>
        </kendo-grid-column>
        <!--Appears on pay slip-->
        <kendo-grid-column [field]="gridSettings.columnsConfig[4].field" [width]="gridSettings.columnsConfig[4]._width"
                           [filter]="gridSettings.columnsConfig[4].filter" [filterable]="gridSettings.columnsConfig[4].filterable"
                           [format]="gridSettings.columnsConfig[4].format">
          <ng-template kendoGridHeaderTemplate>
            <span tooltip="{{gridSettings.columnsConfig[4].title|translate}}"
                  theme="light">{{gridSettings.columnsConfig[4].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridCellTemplate let-dataItem>
            <div class="right-margin" *ngIf="dataItem.AppearsOnPaySlip == 1"><span class="badge badge-success"><i
              class="fa fa-check"></i></span></div>
            <div class="right-margin" *ngIf="dataItem.AppearsOnPaySlip == 0">
              <span class="badge badge-danger" style="text-align:center">
                <i class="fa fa-close" style="width: 13px;height:11px;"></i>
              </span>
            </div>
          </ng-template>
        </kendo-grid-column>
        <!--RuleCategory-->
        <kendo-grid-column [field]="gridSettings.columnsConfig[5].field" [width]="gridSettings.columnsConfig[5]._width"
                           [filter]="gridSettings.columnsConfig[5].filter" [filterable]="gridSettings.columnsConfig[5].filterable"
                           [format]="gridSettings.columnsConfig[5].format">
          <ng-template kendoGridHeaderTemplate>
            <span tooltip="{{gridSettings.columnsConfig[5].title|translate}}"
                  theme="light">{{gridSettings.columnsConfig[5].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridCellTemplate let-dataItem>
            <span>{{getRuleCategoryName(dataItem.RuleCategory) | translate}}</span>
          </ng-template>
        </kendo-grid-column>
        <!--DependOnNumberDaysWorked-->
        <kendo-grid-column [field]="gridSettings.columnsConfig[6].field" [width]="gridSettings.columnsConfig[6]._width"
                           [filter]="gridSettings.columnsConfig[6].filter" [filterable]="gridSettings.columnsConfig[6].filterable"
                           [format]="gridSettings.columnsConfig[6].format">
          <ng-template kendoGridHeaderTemplate>
            <span tooltip="{{gridSettings.columnsConfig[6].title|translate}}"
                  theme="light">{{gridSettings.columnsConfig[6].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridCellTemplate let-dataItem>
            <div class="right-margin" *ngIf="dataItem.DependNumberDaysWorked == 1"><span class="badge badge-success"><i
              class="fa fa-check"></i></span></div>
            <div class="right-margin" *ngIf="dataItem.DependNumberDaysWorked == 0">
              <span class="badge badge-danger" style="text-align:center">
                <i class="fa fa-close" style="width: 13px;height:11px;"></i>
              </span>
            </div>
          </ng-template>
        </kendo-grid-column>
        <!--UsedInNewsPaper-->
        <kendo-grid-column [field]="gridSettings.columnsConfig[7].field" [width]="gridSettings.columnsConfig[7]._width"
                           [filter]="gridSettings.columnsConfig[7].filter" [filterable]="gridSettings.columnsConfig[7].filterable"
                           [format]="gridSettings.columnsConfig[7].format">
          <ng-template kendoGridHeaderTemplate>
            <span tooltip="{{gridSettings.columnsConfig[7].title|translate}}"
                  theme="light">{{gridSettings.columnsConfig[7].title|translate}}</span>
          </ng-template>
          <ng-template kendoGridCellTemplate let-dataItem>
            <div class="right-margin" *ngIf="dataItem.UsedinNewsPaper == 1"><span class="badge badge-success"><i
              class="fa fa-check"></i></span></div>
            <div class="right-margin" *ngIf="dataItem.UsedinNewsPaper == 0">
              <span class="badge badge-danger" style="text-align:center">
                <i class="fa fa-close" style="width: 13px;height:11px;"></i>
              </span>
            </div>
          </ng-template>
        </kendo-grid-column>
        <!-- Command-->
        <kendo-grid-command-column [width]="130">
          <ng-template kendoGridCellTemplate let-isNew="isNew" let-dataItem="dataItem">
            <!-- Update -->
            <i *ngIf="hasShowPermission || hasUpdatePermission" class="las la-pen edit-pencil cursor-pointer la-lg" (click)="goTOEditSalaryRule(dataItem)"
              tooltip="{{'UPDATE' | translate}}"></i>
            <!-- Remove -->
            <i *ngIf="hasDeletePermission" class="las la-trash-alt text-danger cursor-pointer la-lg"
              tooltip="{{'DELETE' | translate}}" (click)="removeHandler(dataItem)"></i>
          </ng-template>
        </kendo-grid-command-column>
        <!--grid pdf & excel-->
        <app-grid-export [gridSettings]="gridSettings" fileName="{{'LIST_SALARY_RULE'|translate}}" pdf="true"
                         excel="true" [service]="salaryRuleService" [predicate]="predicate">
        </app-grid-export>
        <!--end grid pdf & excel-->
      </kendo-grid>
    </form>
  </div>
</div>
