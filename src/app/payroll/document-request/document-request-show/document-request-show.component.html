<div>
  <form class="form-horizontal">
    <kendo-grid [data]="gridSettings.gridData" [pageSize]="gridSettings.state.take" [pageable]="pagerSettings"
      [skip]="gridSettings.state.skip" [sortable]="true" [filterable]="true" [reorderable]="true"
      (remove)="removeHandler($event)" (dataStateChange)="dataStateChange($event)" [sort]="gridSettings.state.sort"
      [selectable]="true" [filter]="gridSettings.state.filter"
      [selectable]="{enabled: true && hasUpdateDocumentPermission, checkboxOnly: true && hasUpdateDocumentPermission }" (selectedKeysChange)="onSelectedKeysChange($event)"
      [kendoGridSelectBy]="'Id'" [selectedKeys]="documentIdsSelected">
      <!-- Head Start-->
      <ng-template kendoGridToolbarTemplate>
        <div style="margin-left: -1%;height: 40px;">
          <div *ngIf="myDocument" class="btn-group col-lg-3 col-md-8 col-sm-12">
            <button class="btn btn-primary dropdown-toggle btnColor" type="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="true" style="width:235px!important;">
              {{choosenFilter}}
            </button>
            <div class="dropdown-menu  col-lg-10 col-md-12 col-sm-12"
              style="border: 1px solid rgb(200, 206, 211) !important;">
              <button [ngClass]="{
                                            'dropdown-item':choosenFilterNumber!=statusCode.Waiting,
                                            'dropdown-item-active':choosenFilterNumber==statusCode.Waiting
                                            }" (click)="onChangeStatus(statusCode.Waiting)">
                {{'WAITING'|translate}}
              </button>
              <button [ngClass]="{
                                            'dropdown-item':choosenFilterNumber!=statusCode.Accepted,
                                            'dropdown-item-active':choosenFilterNumber==statusCode.Accepted
                                            }" (click)="onChangeStatus(statusCode.Accepted)">
                {{'ACCEPTED'|translate}}
              </button>
              <button [ngClass]="{
                                            'dropdown-item':choosenFilterNumber!==statusCode.Refused,
                                            'dropdown-item-active':choosenFilterNumber==statusCode.Refused
                                            }" (click)="onChangeStatus(statusCode.Refused)">
                {{'REFUSED'|translate}}
              </button>
              <button [ngClass]="{
                                            'dropdown-item':choosenFilterNumber!==noFilter,
                                            'dropdown-item-active':choosenFilterNumber==noFilter
                                            }" (click)="onChangeStatus(noFilter)">
                {{'ALL_DOCUMENT'|translate}}
              </button>
            </div>
          </div>
          <div class="row" style="float: right;">
            <app-action-dropdown *ngIf="hasUpdateDocumentPermission" style="display: inline-flex;"
              [Actions]="listOfAction" (selectedValue)="selectedAction($event)"></app-action-dropdown>
            <app-btn-grid [advencedAdd]='hasAddPermission' [addLink]='"add"' [export]='true'
              style="float: right;margin-right: 40px; display: inline-flex;"></app-btn-grid>
          </div>
        </div>
      </ng-template>
      <!-- Head end-->
      <!--Check box Start -->
<kendo-grid-checkbox-column [width]="80" *ngIf="hasUpdateDocumentPermission">
  <ng-template kendoGridHeaderTemplate>
    <input class="k-checkbox" id="selectAllCheckboxId" kendoGridSelectAllCheckbox [state]="selectAllState">
    <label class="k-checkbox-label" for="selectAllCheckboxId"></label>
  </ng-template>
</kendo-grid-checkbox-column>
<!--Check box End -->
      <!--Employee-->
      <kendo-grid-column *ngIf="!myDocument" [field]="gridSettings.columnsConfig[0].field"
        [title]="gridSettings.columnsConfig[0].title | translate" [width]="gridSettings.columnsConfig[0]._width"
        [filter]="gridSettings.columnsConfig[0].filter" [filterable]="gridSettings.columnsConfig[0].filterable"
        [format]="gridSettings.columnsConfig[0].format">
      </kendo-grid-column>
      <!--Type-->
      <kendo-grid-column [field]="gridSettings.columnsConfig[1].field"
        [title]="gridSettings.columnsConfig[1].title | translate" [width]="gridSettings.columnsConfig[1]._width"
        [filter]="gridSettings.columnsConfig[1].filter" [filterable]="gridSettings.columnsConfig[1].filterable"
        [format]="gridSettings.columnsConfig[1].format">
        <ng-template kendoGridFilterCellTemplate let-filter let-column="column">
          <app-document-request-type-dropdown [group]="statusSearchDropdownFormGroup" [InGrid]=true
            (selectedValue)="documentTypeFilter($event)">
          </app-document-request-type-dropdown>
        </ng-template>
      </kendo-grid-column>
      <!--Creation Date-->
      <kendo-grid-column [field]="gridSettings.columnsConfig[2].field"
        [title]="gridSettings.columnsConfig[2].title | translate" [width]="gridSettings.columnsConfig[2]._width"
        [filter]="gridSettings.columnsConfig[2].filter" [filterable]="gridSettings.columnsConfig[2].filterable">
        <ng-template kendoGridFilterCellTemplate let-filter let-column="column">
          <kendo-grid-date-filter-cell [format]="dateFormat" [column]="column" [filter]="filter" [operator]="equals"  (click)="translateToday()">
          </kendo-grid-date-filter-cell>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
          {{dataItem.SubmissionDate | date: gridSettings.columnsConfig[2].format}}
        </ng-template>
      </kendo-grid-column>
      <!--Deadline-->
      <kendo-grid-column [field]="gridSettings.columnsConfig[3].field"
        [title]="gridSettings.columnsConfig[3].title | translate" [width]="gridSettings.columnsConfig[3]._width"
        [filter]="gridSettings.columnsConfig[3].filter" [filterable]="gridSettings.columnsConfig[3].filterable">
        <ng-template kendoGridFilterCellTemplate let-filter let-column="column">
          <kendo-grid-date-filter-cell [format]="dateFormat" [column]="column" [filter]="filter" [operator]="equals" (click)="translateToday()">
          </kendo-grid-date-filter-cell>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
          {{dataItem.DeadLine | date: gridSettings.columnsConfig[3].format}}
        </ng-template>
      </kendo-grid-column>
      <!--Treated By-->
      <kendo-grid-column [field]="gridSettings.columnsConfig[4].field"
        [title]="gridSettings.columnsConfig[4].title | translate" [width]="gridSettings.columnsConfig[4]._width"
        [filter]="gridSettings.columnsConfig[4].filter" [filterable]="gridSettings.columnsConfig[4].filterable"
        [format]="gridSettings.columnsConfig[4].format">
        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
          <div *ngIf="dataItem.TreatedByNavigation">{{dataItem.TreatedByNavigation.FullName}}</div>
        </ng-template>
      </kendo-grid-column>
      <!--Treatment Date-->
      <kendo-grid-column [field]="gridSettings.columnsConfig[5].field"
        [title]="gridSettings.columnsConfig[5].title | translate" [width]="gridSettings.columnsConfig[5]._width"
        [filter]="gridSettings.columnsConfig[5].filter" [filterable]="gridSettings.columnsConfig[5].filterable"
        [format]="gridSettings.columnsConfig[5].format">
        <ng-template kendoGridFilterCellTemplate let-filter let-column="column">
          <kendo-grid-date-filter-cell [format]="dateFormat" [column]="column" [filter]="filter" [operator]="equals" (click)="translateToday()">
          </kendo-grid-date-filter-cell>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
          <div *ngIf="dataItem.TreatmentDate">
            {{dataItem.TreatmentDate| date: gridSettings.columnsConfig[5].format}}
          </div>
        </ng-template>
      </kendo-grid-column>
      <!--Status-->
      <kendo-grid-column [field]="gridSettings.columnsConfig[6].field" [width]="gridSettings.columnsConfig[6]._width"
        [title]="gridSettings.columnsConfig[6].title | translate" [filter]="gridSettings.columnsConfig[6].filter"
        [filterable]="gridSettings.columnsConfig[6].filterable" [format]="gridSettings.columnsConfig[6].format">
        <ng-template kendoGridFilterCellTemplate let-filter let-column="column">
          <app-status-dropdown [form]="statusSearchDropdownFormGroup" (selectedValue)="statusGridFilter($event)"
            [withNotCancelStatus]=true></app-status-dropdown>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem='dataItem'>
          <span *ngIf="dataItem.Status == statusCode.Waiting"
            class="badge badge-warning status-badge">{{'WAITING'|translate}}</span>
          <span *ngIf="dataItem.Status == statusCode.Accepted"
            class="badge badge-success status-badge">{{'ACCEPTED'|translate}}</span>
          <span *ngIf="dataItem.Status == statusCode.Refused"
            class="badge badge-danger status-badge">{{'REFUSED'|translate}}</span>
        </ng-template>
      </kendo-grid-column>
      <!-- Command-->
      <kendo-grid-command-column [width]="130">
        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
          <!--Open advanced edit form -->
          <button class="k-button btnKendoGrid editBtn" (click)="goToAdvancedEdit(dataItem)">
            <i class="fa fa-chevron-circle-right"></i>
          </button>
          <!-- remove command directive, will be visible when not in edit mode -->
          <button *ngIf="hasDeletePermission && dataItem.Status === statusCode.Waiting" kendoGridRemoveCommand class="btnKendoGrid">
            <i class="fa fa-trash-o"></i>
          </button>
        </ng-template>
      </kendo-grid-command-column>
      <!--grid pdf & excel-->
      <app-grid-export [gridSettings]="gridSettings" fileName="{{'LIST_DOCUMENT'|translate}}" pdf="true" excel="true"
        [service]="documentRequestService" [predicate]="predicate">
      </app-grid-export>
      <!--end grid pdf & excel-->
    </kendo-grid>
  </form>
</div>
